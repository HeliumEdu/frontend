{% extends "base/base.html" %}

{% set page_template = "planner_calendar" %}

{% block title %}{{ PROJECT_NAME }} | Calendar{% endblock %}

{% block content %}
    <div class="main-container">
        <div class="page-content">
            <div class="row" id="planner-row">
                <div class="col-xs-12">
                    <div id="calendar-loading">
                        <div id="loading-calendar"></div>
                    </div>
                    <div id="calendar"></div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="homework-modal" tabindex="-1" role="dialog" aria-labelledby="homework-modal-label"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    <span class="pull-right">
                        <input type="checkbox" data-offstyle="primary" id="homework-event-switch" name="homework-event-switch"
                           data-toggle="toggle" data-on="&lt;i class='icon-calendar'&gt;&lt;/i&gt;" data-off="&lt;i class='icon-book'&gt;&lt;/i&gt;" />
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </span>
                    <h4 class="modal-title" id="homework-modal-label">Add Assignment</h4>
                    </div>
                    <div class="modal-body">
                        <div class="tabbable">
                            <ul class="nav nav-tabs padding-18 tab-size-bigger" id="homework-panel-tabs">
                                <li class="col-sm-reset active">
                                    <a data-toggle="tab" href="#homework-panel-tab-1">
                                        <i class="blue icon-list bigger-120"></i>
                                        <span class="hidden-xs">Details</span>
                                    </a>
                                </li>

                                <li class="col-sm-reset">
                                    <a data-toggle="tab" href="#homework-panel-tab-2">
                                        <i class="green icon-time bigger-120"></i>
                                        <span class="hidden-xs">Reminders</span>
                                    </a>
                                </li>

                                <li class="col-sm-reset">
                                    <a data-toggle="tab" href="#homework-panel-tab-3">
                                        <i class="orange icon-paperclip bigger-120"></i>
                                        <span class="hidden-xs">Attachments</span>
                                    </a>
                                </li>
                            </ul>

                            <div class="tab-content no-border padding-24 no-padding-bottom">
                                <div id="homework-panel-tab-1" class="tab-pane fade in active">
                                    <form class="form-horizontal" role="form">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label"
                                                   for="homework-title">Title</label>

                                            <div class="col-sm-7">
                                                <input id="homework-title" class="form-control" maxlength="255"
                                                       autocomplete="off" type="text"/>
                                            </div>
                                        </div>
                                        <div class="form-group to-hide" id="homework-class-form-group">
                                            <label class="col-sm-3 control-label"
                                                   for="homework-class">Class</label>

                                            <div class="col-sm-7">
                                                <select class="chosen-select tag-input-style" id="homework-class"
                                                        data-placeholder=" ">
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-xs-12 col-sm-4">
                                                <label class="left-buffer-50 hidden-xs"></label>
                                                <label>
                                                    <input id="homework-all-day" class="ace" type="checkbox"/>
                                                    <span class="lbl"> All Day</span>
                                                </label>
                                            </div>

                                            <div class="col-xs-12 col-sm-5">
                                                <label>
                                                    <input id="homework-show-end-time" class="ace" type="checkbox"/>
                                                    <span class="lbl"> Show End</span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group" id="homework-date-form-group">
                                            <label class="col-sm-3 control-label" id="homework-start-date-lbl"
                                                   for="homework-start-date">Date</label>

                                            <div class="col-sm-4 input-group pull-left no-padding-right">
                                                <input type="text" name="homework-start-date" id="homework-start-date"
                                                       class="form-control date-picker" data-date-format="M d, yyyy"/>
                                    <span class="input-group-addon">
                                        <i class="icon-calendar"></i>
                                    </span>
                                            </div>

                                            <div class="col-sm-4 input-group no-padding-left"
                                                 id="homework-end-date-form-group">
                                                <input type="text" name="homework-end-date" id="homework-end-date"
                                                       class="form-control date-picker" data-date-format="M d, yyyy"/>
                                    <span class="input-group-addon">
                                        <i class="icon-calendar"></i>
                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group" id="homework-time-form-group">
                                            <label class="col-sm-3 control-label" id="homework-start-time-lbl"
                                                   for="homework-start-time">Time</label>

                                            <div class="col-sm-4 input-group input-append bootstrap-timepicker pull-left no-padding-right">
                                                <input id="homework-start-time" type="text"
                                                       class="form-control input-small time-picker"/>
                                    <span class="input-group-addon add-on">
                                        <i class="icon-time bigger-110"></i>
                                    </span>
                                            </div>

                                            <div class="col-sm-4 input-group input-append bootstrap-timepicker pull-left no-padding-left"
                                                 id="homework-end-time-form-group">
                                                <input id="homework-end-time" type="text"
                                                       class="form-control input-small time-picker"/>
                                    <span class="input-group-addon add-on">
                                        <i class="icon-time bigger-110"></i>
                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group" id="homework-category-form-group">
                                            <label class="col-sm-3 control-label"
                                                   for="homework-category">Category</label>

                                            <div class="col-sm-5">
                                                <select class="chosen-select tag-input-style" id="homework-category"
                                                        data-placeholder=" ">
                                                </select>
                                            </div>

                                            <button id="edit-categories" type="button"
                                                    class="btn btn-primary btn-xs col-sm-3 hidden-xs">
                                                <i class="icon-pencil"></i>
                                                Edit Categories
                                            </button>
                                        </div>
                                        <div class="form-group" id="homework-materials-form-group">
                                            <label class="col-sm-3 control-label"
                                                   for="homework-materials">Materials</label>

                                            <div class="col-sm-7">
                                                <select class="chosen-select tag-input-style" id="homework-materials"
                                                        multiple="multiple" data-placeholder=" ">
                                                </select>
                                            </div>
                                            <div class="col-sm-1">
                                    <span class="hidden-xs materials-help help-button cursor-hover" data-rel="popover"
                                          data-trigger="hover" data-container="#homework-modal" data-placement="left"
                                          data-content="Only materials linked to the selected class will be shown in this list. Click here to head over to the Materials page if you need to add or link any."
                                          title="Materials">?</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label"
                                                   for="homework-start-date">Priority</label>

                                            <div class="col-sm-7 col-xs-12 input-group">
                                                <div id="homework-priority">
                                                    <span class="ui-slider-green">50</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group" id="homework-completed-form-group">
                                            <div class="col-xs-12">
                                                <label class="left-buffer-50 hidden-xs"></label>
                                                <label>
                                                    <input id="homework-completed" class="ace" type="checkbox"/>
                                                    <span class="lbl"> Completed</span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group to-hide" id="homework-grade-form-group">
                                            <label class="col-sm-3 col-xs-12 control-label"
                                                   for="homework-grade">Grade</label>

                                            <div class="col-sm-5 col-xs-10">
                                                <input id="homework-grade" class="form-control" autocomplete="off"/>
                                            </div>
                                            <div class="col-sm-2 col-xs-2" id="homework-grade-percent"><span
                                                    class="badge"></span></div>
                                            <div class="col-sm-1">
                                    <span class="hidden-xs weight-help help-button" data-rel="popover"
                                          data-trigger="hover" data-container="#homework-modal" data-placement="left"
                                          data-content="Enter grades as percentages (ex. 84.5%) or as raw scores (ex. 18/20).<br><br>If this class has weighted grading, Categories need to be setup for this on the Classes page."
                                          title="Entering Grades">?</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label"
                                                   for="homework-comments">Other Details</label>

                                            <div class="col-sm-7">
                                                <div id="homework-comments" class="wysiwyg-editor comment-editor"></div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div id="homework-panel-tab-2" class="tab-pane fade in">
                                    <button aria-label="Create Reminder" class="btn btn-sm btn-primary pull-right bottom-buffer-10" style="line-height: 10px"
                                            id="create-reminder">
                                        <i class="icon-plus align-top"></i>
                                    </button>

                                    <div class="clearfix"></div>

                                    <table id="reminders-table"
                                           class="table table-striped table-bordered table-hover">
                                        <thead>
                                        <tr>
                                            <th width="50%">Message</th>
                                            <th width="40%">When
                    <span class="hidden-xs reminder-help help-button" data-rel="popover"
                          data-trigger="hover" data-container="#homework-modal" data-placement="left"
                          data-content="The amount of time before the calendar item's start that the notification will be sent."
                          title="Reminder Time">?</span>
                                            </th>
                                            <th width="30px"></th>
                                        </tr>
                                        </thead>

                                        <tbody id="reminders-table-body">
                                        <tr id="no-reminders">
                                            <td colspan="4"
                                                class="text-left">Nothing to see here. Click "+" to add a reminder.
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div id="homework-panel-tab-3" class="tab-pane fade in">
                                    <div id="dropzone">
                                        <form id="dropzone-form" class="dropzone"
                                              method="POST">
                                            <div class="fallback">
                                                <input name="file" type="file" multiple=""/>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="space-12"></div>
                                    <table id="attachments-table"
                                           class="table table-striped table-bordered table-hover">
                                        <thead>
                                        <tr>
                                            <th width="70%">Name</th>
                                            <th width="15%">Size</th>
                                            <th width="40px"></th>
                                        </tr>
                                        </thead>

                                        <tbody id="attachments-table-body">
                                        <tr id="no-attachments">
                                            <td colspan="4"
                                                class="text-left">Nothing to see here. Drop an attachment above to link it to this assignment.
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="row to-hide">
                                    <div id="homework-error" class="col-sm-8 col-sm-offset-2 alert alert-danger"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="pull-left">
                            <button id="delete-homework" type="button" aria-label="Delete Homework" class="btn btn-danger btn-sm">
                                <i class="icon-trash"></i>
                                <span class="hidden-xs">Delete</span>
                            </button>
                            <button id="clone-homework" type="button" aria-label="Clone Homework"  class="btn btn-success btn-sm">
                                <i class="icon-retweet"></i>
                                <span class="hidden-xs">Clone</span>
                            </button>
                        </div>
                        <div id="homework-modal-loading" class="loading-mini">
                            <div id="loading-homework-modal"></div>
                        </div>
                        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">
                            <i class="icon-remove"></i>
                            <span class="hidden-xs">Cancel</span>
                        </button>
                        <button id="save-homework" type="button" class="btn btn-primary btn-sm">
                            <i class="icon-check"></i>
                            <span class="hidden-xs">Save</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="getting-started-modal" tabindex="-1" role="dialog"
             aria-labelledby="getting-started-modal-label"
             aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="well">
                            <h1 class="grey lighter smaller">
                                <img src="{{ ASSETS_PREFIX_VERSIONED }}/img/logo_square.png" width="50" height="50" class="inline"
                                     style="margin-top: -15px;"/>
                                <span>Welcome to Helium!</span>
                            </h1>

                            <hr/>
                            <h3 class="lighter smaller">Peruse the Example Schedule ...</h3>

                            <p class="bigger-110">Each time you log in, you'll land here on the Calendar.
                                Your account has been preloaded with an example schedule so you can see how see Helium
                                in action. Play around with the calendar here, and also be sure to head over to
                                <a href="/planner/grades">the "Grades" page</a> and check that out too.</p>

                            <h3 class="lighter smaller">... Then Add Your Own</h3>

                            <p class="bigger-110">When you're ready to get started for yourself, delete
                                "Example Schedule" from <a href="/planner/classes">the Classes page</a> to clear it
                                out and start over with your own classes. Then add assignments, projects, concerts,
                                naps, and whatever else you need to block out time for in your schedule.</p>

                            <h3 class="lighter smaller">Helium, Elsewhere</h3>

                            <p class="bigger-110">Once you have all your schoolwork loaded in to Helium, want  to see
                                your assignments and class schedules in other calendars applications? You can enable
                                "Feeds" <a href="/settings/">in Settings</a> to generate private calendar URLs.</p>
                        </div>

                        <div class="row" style="margin-right: 5px; margin-top: -10px; margin-bottom: -25px;">
                            <div>
                                <a href="https://www.patreon.com/alexdlaird"><img src="{{ ASSETS_PREFIX_VERSIONED }}/img/support_patreon.png" style="max-width: 30%; padding-left: 15px;" /></a>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="form-group" style="margin-bottom: 0px;">
                            <label class="pull-left">
                                <input id="show-getting-started" class="ace" type="checkbox"/>
                                <span class="lbl"> Don't show this dialog again</span>
                            </label>
                            <button id="close-getting-started" type="button" class="btn btn-primary btn-sm">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}